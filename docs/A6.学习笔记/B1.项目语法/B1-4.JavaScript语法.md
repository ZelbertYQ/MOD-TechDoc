# JavaScriptè¯­æ³•æ€»ç»“

## æ¦‚è¿°

JavaScriptæ˜¯ä¸€ç§åŠ¨æ€çš„ã€å¼±ç±»å‹çš„ç¼–ç¨‹è¯­è¨€ï¼Œå¹¿æ³›ç”¨äºWebå¼€å‘ã€‚åœ¨Markdownæ–‡æ¡£ä¸­ï¼ŒJavaScriptå¯ä»¥é€šè¿‡å¤šç§æ–¹å¼åµŒå…¥å’Œä½¿ç”¨ã€‚

## åœ¨Markdownä¸­åµŒå…¥JavaScript

### 1. ä»£ç å—å±•ç¤º

````markdown
```javascript
// åŸºç¡€JavaScriptä»£ç 
function greet(name) {
    return `Hello, ${name}!`;
}

console.log(greet("World"));
```
````

### 2. HTMLä¸­çš„JavaScript

```html
<script>
// ç›´æ¥åœ¨HTMLä¸­åµŒå…¥JavaScript
document.addEventListener('DOMContentLoaded', function() {
    console.log('é¡µé¢åŠ è½½å®Œæˆ');
});
</script>
```

### 3. å†…è”äº‹ä»¶å¤„ç†

```html
<button onclick="alert('æŒ‰é’®è¢«ç‚¹å‡»äº†!')">ç‚¹å‡»æˆ‘</button>
<div onmouseover="this.style.color='red'" onmouseout="this.style.color='black'">
    é¼ æ ‡æ‚¬åœå˜è‰²
</div>
```

### 4. åœ¨Markdownä¸­åµŒå…¥è§†é¢‘

#### åŸºç¡€HTML5è§†é¢‘

```html
<!-- æœ¬åœ°è§†é¢‘æ–‡ä»¶ -->
<video width="640" height="360" controls>
    <source src="./videos/demo.mp4" type="video/mp4">
    <source src="./videos/demo.webm" type="video/webm">
    <source src="./videos/demo.ogg" type="video/ogg">
    æ‚¨çš„æµè§ˆå™¨ä¸æ”¯æŒè§†é¢‘æ ‡ç­¾ã€‚
</video>

<!-- å¸¦æœ‰æ›´å¤šå±æ€§çš„è§†é¢‘ -->
<video
    width="100%"
    height="auto"
    controls
    autoplay
    muted
    loop
    poster="./images/video-poster.jpg"
    preload="metadata">
    <source src="./videos/demo.mp4" type="video/mp4">
    <track kind="subtitles" src="./subtitles/demo-zh.vtt" srclang="zh" label="ä¸­æ–‡å­—å¹•">
    <track kind="subtitles" src="./subtitles/demo-en.vtt" srclang="en" label="English">
</video>
```

#### å“åº”å¼è§†é¢‘å®¹å™¨

```html
<!-- å“åº”å¼è§†é¢‘åŒ…è£…å™¨ -->
<div style="position: relative; width: 100%; height: 0; padding-bottom: 56.25%;">
    <video
        style="position: absolute; top: 0; left: 0; width: 100%; height: 100%;"
        controls>
        <source src="./videos/demo.mp4" type="video/mp4">
    </video>
</div>
```

#### åµŒå…¥åœ¨çº¿è§†é¢‘å¹³å°

```html
<!-- YouTubeè§†é¢‘ -->
<iframe
    width="560"
    height="315"
    src="https://www.youtube.com/embed/VIDEO_ID"
    title="YouTube video player"
    frameborder="0"
    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
    allowfullscreen>
</iframe>

<!-- å“”å“©å“”å“©è§†é¢‘ -->
<iframe
    width="560"
    height="315"
    src="//player.bilibili.com/player.html?bvid=BV_ID&page=1"
    scrolling="no"
    border="0"
    frameborder="no"
    framespacing="0"
    allowfullscreen="true">
</iframe>

<!-- å“åº”å¼iframe -->
<div style="position: relative; width: 100%; height: 0; padding-bottom: 56.25%;">
    <iframe
        style="position: absolute; top: 0; left: 0; width: 100%; height: 100%;"
        src="https://www.youtube.com/embed/VIDEO_ID"
        frameborder="0"
        allowfullscreen>
    </iframe>
</div>
```

#### JavaScriptæ§åˆ¶è§†é¢‘æ’­æ”¾

```html
<video id="myVideo" width="640" height="360" controls>
    <source src="./videos/demo.mp4" type="video/mp4">
</video>

<div style="margin-top: 10px;">
    <button onclick="playVideo()">æ’­æ”¾</button>
    <button onclick="pauseVideo()">æš‚åœ</button>
    <button onclick="changeVolume(0.5)">éŸ³é‡50%</button>
    <button onclick="skipTo(30)">è·³è½¬åˆ°30ç§’</button>
    <button onclick="changeSpeed(1.5)">1.5å€é€Ÿ</button>
</div>

<script>
const video = document.getElementById('myVideo');

function playVideo() {
    video.play();
}

function pauseVideo() {
    video.pause();
}

function changeVolume(volume) {
    video.volume = volume;
}

function skipTo(seconds) {
    video.currentTime = seconds;
}

function changeSpeed(speed) {
    video.playbackRate = speed;
}

// ç›‘å¬è§†é¢‘äº‹ä»¶
video.addEventListener('loadstart', () => console.log('å¼€å§‹åŠ è½½'));
video.addEventListener('canplay', () => console.log('å¯ä»¥æ’­æ”¾'));
video.addEventListener('play', () => console.log('å¼€å§‹æ’­æ”¾'));
video.addEventListener('pause', () => console.log('æš‚åœæ’­æ”¾'));
video.addEventListener('ended', () => console.log('æ’­æ”¾ç»“æŸ'));
</script>
```

#### è‡ªå®šä¹‰è§†é¢‘æ’­æ”¾å™¨

```html
<div class="custom-video-player">
    <video id="customVideo" width="640" height="360">
        <source src="./videos/demo.mp4" type="video/mp4">
    </video>

    <div class="video-controls">
        <button id="playPauseBtn">â–¶ï¸</button>
        <input type="range" id="progressBar" min="0" max="100" value="0">
        <span id="timeDisplay">00:00 / 00:00</span>
        <input type="range" id="volumeBar" min="0" max="1" step="0.1" value="1">
        <button id="fullscreenBtn">â›¶</button>
    </div>
</div>

<style>
.custom-video-player {
    position: relative;
    display: inline-block;
}

.video-controls {
    display: flex;
    align-items: center;
    gap: 10px;
    padding: 10px;
    background: #333;
    color: white;
}

.video-controls button {
    background: none;
    border: none;
    color: white;
    cursor: pointer;
    font-size: 16px;
}

.video-controls input[type="range"] {
    flex: 1;
}

#progressBar {
    min-width: 200px;
}

#volumeBar {
    width: 80px;
}
</style>

<script>
const customVideo = document.getElementById('customVideo');
const playPauseBtn = document.getElementById('playPauseBtn');
const progressBar = document.getElementById('progressBar');
const timeDisplay = document.getElementById('timeDisplay');
const volumeBar = document.getElementById('volumeBar');
const fullscreenBtn = document.getElementById('fullscreenBtn');

// æ’­æ”¾/æš‚åœåˆ‡æ¢
playPauseBtn.addEventListener('click', () => {
    if (customVideo.paused) {
        customVideo.play();
        playPauseBtn.textContent = 'â¸ï¸';
    } else {
        customVideo.pause();
        playPauseBtn.textContent = 'â–¶ï¸';
    }
});

// è¿›åº¦æ¡æ›´æ–°
customVideo.addEventListener('timeupdate', () => {
    const progress = (customVideo.currentTime / customVideo.duration) * 100;
    progressBar.value = progress;

    const current = formatTime(customVideo.currentTime);
    const duration = formatTime(customVideo.duration);
    timeDisplay.textContent = `${current} / ${duration}`;
});

// è¿›åº¦æ¡æ‹–æ‹½
progressBar.addEventListener('input', () => {
    const time = (progressBar.value / 100) * customVideo.duration;
    customVideo.currentTime = time;
});

// éŸ³é‡æ§åˆ¶
volumeBar.addEventListener('input', () => {
    customVideo.volume = volumeBar.value;
});

// å…¨å±åˆ‡æ¢
fullscreenBtn.addEventListener('click', () => {
    if (customVideo.requestFullscreen) {
        customVideo.requestFullscreen();
    }
});

// æ—¶é—´æ ¼å¼åŒ–
function formatTime(seconds) {
    const mins = Math.floor(seconds / 60);
    const secs = Math.floor(seconds % 60);
    return `${mins.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;
}
</script>
```

#### è§†é¢‘æ‡’åŠ è½½

```html
<!-- ä½¿ç”¨Intersection Observerå®ç°è§†é¢‘æ‡’åŠ è½½ -->
<video
    class="lazy-video"
    width="640"
    height="360"
    controls
    preload="none"
    data-src="./videos/demo.mp4"
    poster="./images/video-poster.jpg">
    <source data-src="./videos/demo.mp4" type="video/mp4">
</video>

<script>
// è§†é¢‘æ‡’åŠ è½½å®ç°
const lazyVideos = document.querySelectorAll('.lazy-video');

const videoObserver = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
        if (entry.isIntersecting) {
            const video = entry.target;
            const source = video.querySelector('source');

            // è®¾ç½®è§†é¢‘æº
            if (video.dataset.src) {
                video.src = video.dataset.src;
                video.load();
            }

            if (source && source.dataset.src) {
                source.src = source.dataset.src;
                video.load();
            }

            // ç§»é™¤è§‚å¯Ÿ
            videoObserver.unobserve(video);
            video.classList.remove('lazy-video');
        }
    });
});

lazyVideos.forEach(video => {
    videoObserver.observe(video);
});
</script>
```

#### è§†é¢‘æ’­æ”¾åˆ—è¡¨

```html
<div class="video-playlist">
    <video id="playlistVideo" width="640" height="360" controls>
        <source src="" type="video/mp4">
    </video>

    <div class="playlist">
        <div class="playlist-item active" data-src="./videos/video1.mp4">
            <img src="./images/thumb1.jpg" alt="è§†é¢‘1">
            <span>ç¬¬ä¸€é›†ï¼šä»‹ç»</span>
        </div>
        <div class="playlist-item" data-src="./videos/video2.mp4">
            <img src="./images/thumb2.jpg" alt="è§†é¢‘2">
            <span>ç¬¬äºŒé›†ï¼šåŸºç¡€</span>
        </div>
        <div class="playlist-item" data-src="./videos/video3.mp4">
            <img src="./images/thumb3.jpg" alt="è§†é¢‘3">
            <span>ç¬¬ä¸‰é›†ï¼šè¿›é˜¶</span>
        </div>
    </div>
</div>

<style>
.video-playlist {
    display: flex;
    gap: 20px;
    max-width: 1000px;
}

.playlist {
    width: 300px;
}

.playlist-item {
    display: flex;
    align-items: center;
    gap: 10px;
    padding: 10px;
    cursor: pointer;
    border: 2px solid transparent;
    border-radius: 8px;
    margin-bottom: 10px;
}

.playlist-item:hover {
    background: #f5f5f5;
}

.playlist-item.active {
    border-color: #007acc;
    background: #e3f2fd;
}

.playlist-item img {
    width: 60px;
    height: 40px;
    object-fit: cover;
    border-radius: 4px;
}
</style>

<script>
const playlistVideo = document.getElementById('playlistVideo');
const playlistItems = document.querySelectorAll('.playlist-item');

playlistItems.forEach(item => {
    item.addEventListener('click', () => {
        // ç§»é™¤æ‰€æœ‰activeç±»
        playlistItems.forEach(i => i.classList.remove('active'));

        // æ·»åŠ activeç±»åˆ°å½“å‰é¡¹
        item.classList.add('active');

        // æ›´æ¢è§†é¢‘æº
        const videoSrc = item.dataset.src;
        playlistVideo.src = videoSrc;
        playlistVideo.load();
        playlistVideo.play();
    });
});

// è§†é¢‘ç»“æŸåè‡ªåŠ¨æ’­æ”¾ä¸‹ä¸€ä¸ª
playlistVideo.addEventListener('ended', () => {
    const currentActive = document.querySelector('.playlist-item.active');
    const nextItem = currentActive.nextElementSibling;

    if (nextItem && nextItem.classList.contains('playlist-item')) {
        nextItem.click();
    }
});
</script>
```

#### è§†é¢‘æˆªå›¾åŠŸèƒ½

```html
<div class="video-capture">
    <video id="captureVideo" width="640" height="360" controls>
        <source src="./videos/demo.mp4" type="video/mp4">
    </video>

    <div class="capture-controls">
        <button onclick="captureFrame()">ğŸ“¸ æˆªå›¾</button>
        <button onclick="downloadCapture()">ğŸ’¾ ä¸‹è½½æˆªå›¾</button>
    </div>

    <canvas id="captureCanvas" style="display: none;"></canvas>
    <div id="capturePreview"></div>
</div>

<script>
const captureVideo = document.getElementById('captureVideo');
const captureCanvas = document.getElementById('captureCanvas');
const capturePreview = document.getElementById('capturePreview');
const ctx = captureCanvas.getContext('2d');

let currentCapture = null;

function captureFrame() {
    // è®¾ç½®canvaså°ºå¯¸
    captureCanvas.width = captureVideo.videoWidth;
    captureCanvas.height = captureVideo.videoHeight;

    // ç»˜åˆ¶å½“å‰å¸§åˆ°canvas
    ctx.drawImage(captureVideo, 0, 0);

    // è½¬æ¢ä¸ºå›¾ç‰‡å¹¶æ˜¾ç¤ºé¢„è§ˆ
    currentCapture = captureCanvas.toDataURL('image/png');

    capturePreview.innerHTML = `
        <h4>æˆªå›¾é¢„è§ˆï¼š</h4>
        <img src="${currentCapture}" style="max-width: 300px; border: 1px solid #ddd;">
        <p>æ—¶é—´ç‚¹: ${formatTime(captureVideo.currentTime)}</p>
    `;
}

function downloadCapture() {
    if (!currentCapture) {
        alert('è¯·å…ˆæˆªå›¾');
        return;
    }

    const link = document.createElement('a');
    link.download = `video-capture-${Date.now()}.png`;
    link.href = currentCapture;
    link.click();
}

function formatTime(seconds) {
    const mins = Math.floor(seconds / 60);
    const secs = Math.floor(seconds % 60);
    return `${mins.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;
}
</script>
```

#### è§†é¢‘å¼¹å¹•ç³»ç»Ÿ

```html
<div class="video-danmaku-container">
    <video id="danmakuVideo" width="640" height="360" controls>
        <source src="./videos/demo.mp4" type="video/mp4">
    </video>

    <div class="danmaku-overlay" id="danmakuOverlay"></div>

    <div class="danmaku-input">
        <input type="text" id="danmakuText" placeholder="è¾“å…¥å¼¹å¹•å†…å®¹">
        <button onclick="sendDanmaku()">å‘é€å¼¹å¹•</button>
    </div>
</div>

<style>
.video-danmaku-container {
    position: relative;
    display: inline-block;
}

.danmaku-overlay {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    overflow: hidden;
}

.danmaku-item {
    position: absolute;
    color: white;
    font-size: 16px;
    font-weight: bold;
    text-shadow: 1px 1px 2px rgba(0,0,0,0.8);
    white-space: nowrap;
    animation: danmaku-move 8s linear;
}

@keyframes danmaku-move {
    from {
        transform: translateX(100%);
    }
    to {
        transform: translateX(-100%);
    }
}

.danmaku-input {
    margin-top: 10px;
    display: flex;
    gap: 10px;
}

.danmaku-input input {
    flex: 1;
    padding: 8px;
    border: 1px solid #ddd;
    border-radius: 4px;
}

.danmaku-input button {
    padding: 8px 16px;
    background: #007acc;
    color: white;
    border: none;
    border-radius: 4px;
    cursor: pointer;
}
</style>

<script>
const danmakuVideo = document.getElementById('danmakuVideo');
const danmakuOverlay = document.getElementById('danmakuOverlay');
const danmakuText = document.getElementById('danmakuText');

// é¢„è®¾å¼¹å¹•æ•°æ®
const danmakuData = [
    { time: 5, text: 'å¼€å§‹äº†ï¼', color: '#ff6b6b' },
    { time: 15, text: 'è¿™ä¸ªå¾ˆæœ‰è¶£', color: '#4ecdc4' },
    { time: 30, text: 'å­¦åˆ°äº†ï¼', color: '#45b7d1' },
    { time: 45, text: '666', color: '#96ceb4' }
];

let currentDanmakuIndex = 0;

// ç›‘å¬è§†é¢‘æ—¶é—´æ›´æ–°
danmakuVideo.addEventListener('timeupdate', () => {
    const currentTime = danmakuVideo.currentTime;

    // æ£€æŸ¥æ˜¯å¦æœ‰å¼¹å¹•éœ€è¦æ˜¾ç¤º
    while (currentDanmakuIndex < danmakuData.length &&
           danmakuData[currentDanmakuIndex].time <= currentTime) {

        showDanmaku(danmakuData[currentDanmakuIndex]);
        currentDanmakuIndex++;
    }
});

// è§†é¢‘é‡æ–°å¼€å§‹æ—¶é‡ç½®å¼¹å¹•ç´¢å¼•
danmakuVideo.addEventListener('seeked', () => {
    const currentTime = danmakuVideo.currentTime;
    currentDanmakuIndex = danmakuData.findIndex(d => d.time > currentTime);
    if (currentDanmakuIndex === -1) currentDanmakuIndex = danmakuData.length;
});

function showDanmaku(danmaku) {
    const danmakuElement = document.createElement('div');
    danmakuElement.className = 'danmaku-item';
    danmakuElement.textContent = danmaku.text;
    danmakuElement.style.color = danmaku.color || 'white';
    danmakuElement.style.top = Math.random() * 80 + '%';

    danmakuOverlay.appendChild(danmakuElement);

    // 8ç§’åç§»é™¤å¼¹å¹•å…ƒç´ 
    setTimeout(() => {
        if (danmakuElement.parentNode) {
            danmakuElement.parentNode.removeChild(danmakuElement);
        }
    }, 8000);
}

function sendDanmaku() {
    const text = danmakuText.value.trim();
    if (!text) return;

    const newDanmaku = {
        time: danmakuVideo.currentTime,
        text: text,
        color: '#' + Math.floor(Math.random()*16777215).toString(16)
    };

    showDanmaku(newDanmaku);
    danmakuText.value = '';
}

// å›è½¦å‘é€å¼¹å¹•
danmakuText.addEventListener('keypress', (e) => {
    if (e.key === 'Enter') {
        sendDanmaku();
    }
});
</script>
```

## JavaScriptåŸºç¡€è¯­æ³•

### å˜é‡å£°æ˜

```javascript
// ES6+ æ¨èä½¿ç”¨ let å’Œ const
let variable = "å¯å˜å˜é‡";
const constant = "å¸¸é‡";
var oldStyle = "æ—§å¼å£°æ˜"; // ä¸æ¨è

// æ•°æ®ç±»å‹
let number = 42;
let string = "å­—ç¬¦ä¸²";
let boolean = true;
let array = [1, 2, 3];
let object = { key: "value" };
let nullValue = null;
let undefinedValue = undefined;
```

### å‡½æ•°å®šä¹‰

```javascript
// å‡½æ•°å£°æ˜
function functionName(param1, param2) {
    return param1 + param2;
}

// å‡½æ•°è¡¨è¾¾å¼
const functionExpression = function(param) {
    return param * 2;
};

// ç®­å¤´å‡½æ•° (ES6+)
const arrowFunction = (param) => param * 3;
const multiLineArrow = (a, b) => {
    const result = a + b;
    return result;
};
```

### æ¡ä»¶è¯­å¥

```javascript
// if-else è¯­å¥
if (condition) {
    // æ‰§è¡Œä»£ç 
} else if (anotherCondition) {
    // æ‰§è¡Œå…¶ä»–ä»£ç 
} else {
    // é»˜è®¤æ‰§è¡Œ
}

// ä¸‰å…ƒè¿ç®—ç¬¦
const result = condition ? "çœŸå€¼" : "å‡å€¼";

// switch è¯­å¥
switch (value) {
    case 'option1':
        // æ‰§è¡Œä»£ç 
        break;
    case 'option2':
        // æ‰§è¡Œä»£ç 
        break;
    default:
        // é»˜è®¤æ‰§è¡Œ
}
```

### å¾ªç¯è¯­å¥

```javascript
// for å¾ªç¯
for (let i = 0; i < 10; i++) {
    console.log(i);
}

// for...of å¾ªç¯ (éå†å€¼)
const array = [1, 2, 3];
for (const item of array) {
    console.log(item);
}

// for...in å¾ªç¯ (éå†é”®)
const object = { a: 1, b: 2 };
for (const key in object) {
    console.log(key, object[key]);
}

// while å¾ªç¯
let i = 0;
while (i < 5) {
    console.log(i);
    i++;
}
```

## DOMæ“ä½œ

### å…ƒç´ é€‰æ‹©

```javascript
// é€šè¿‡IDé€‰æ‹©
const element = document.getElementById('myId');

// é€šè¿‡ç±»åé€‰æ‹©
const elements = document.getElementsByClassName('myClass');

// é€šè¿‡æ ‡ç­¾åé€‰æ‹©
const divs = document.getElementsByTagName('div');

// CSSé€‰æ‹©å™¨ (æ¨è)
const element = document.querySelector('#myId');
const elements = document.querySelectorAll('.myClass');
```

### å…ƒç´ æ“ä½œ

```javascript
// ä¿®æ”¹å†…å®¹
element.textContent = 'æ–°æ–‡æœ¬å†…å®¹';
element.innerHTML = '<strong>HTMLå†…å®¹</strong>';

// ä¿®æ”¹æ ·å¼
element.style.color = 'red';
element.style.fontSize = '16px';

// ä¿®æ”¹å±æ€§
element.setAttribute('data-value', '123');
element.classList.add('newClass');
element.classList.remove('oldClass');
element.classList.toggle('toggleClass');
```

### äº‹ä»¶å¤„ç†

```javascript
// æ·»åŠ äº‹ä»¶ç›‘å¬å™¨
element.addEventListener('click', function(event) {
    console.log('å…ƒç´ è¢«ç‚¹å‡»äº†');
    event.preventDefault(); // é˜»æ­¢é»˜è®¤è¡Œä¸º
});

// ç§»é™¤äº‹ä»¶ç›‘å¬å™¨
function clickHandler(event) {
    console.log('ç‚¹å‡»å¤„ç†å™¨');
}
element.addEventListener('click', clickHandler);
element.removeEventListener('click', clickHandler);

// å¸¸ç”¨äº‹ä»¶ç±»å‹
element.addEventListener('mouseover', handleMouseOver);
element.addEventListener('keydown', handleKeyDown);
element.addEventListener('submit', handleSubmit);
```

## å¼‚æ­¥ç¼–ç¨‹

### Promise

```javascript
// åˆ›å»ºPromise
const myPromise = new Promise((resolve, reject) => {
    setTimeout(() => {
        resolve('æ“ä½œæˆåŠŸ');
    }, 1000);
});

// ä½¿ç”¨Promise
myPromise
    .then(result => {
        console.log(result);
    })
    .catch(error => {
        console.error(error);
    });
```

### async/await

```javascript
// asyncå‡½æ•°
async function fetchData() {
    try {
        const response = await fetch('/api/data');
        const data = await response.json();
        return data;
    } catch (error) {
        console.error('è·å–æ•°æ®å¤±è´¥:', error);
    }
}

// ä½¿ç”¨asyncå‡½æ•°
fetchData().then(data => {
    console.log(data);
});
```

## åœ¨VitePressä¸­ä½¿ç”¨JavaScript

### 1. å®¢æˆ·ç«¯è„šæœ¬

```vue
<script setup>
import { ref, onMounted } from 'vue'

const count = ref(0)

onMounted(() => {
    console.log('ç»„ä»¶å·²æŒ‚è½½')
})

function increment() {
    count.value++
}
</script>

<template>
    <div>
        <p>è®¡æ•°: {{ count }}</p>
        <button @click="increment">å¢åŠ </button>
    </div>
</template>
```

### 2. ä¸»é¢˜å¢å¼º

```javascript
// .vitepress/theme/index.js
import DefaultTheme from 'vitepress/theme'

export default {
    extends: DefaultTheme,
    enhanceApp({ app, router, siteData }) {
        // å…¨å±€ç»„ä»¶æ³¨å†Œ
        app.component('CustomComponent', CustomComponent)
        
        // è·¯ç”±å®ˆå«
        router.beforeEach((to, from, next) => {
            console.log('è·¯ç”±å˜åŒ–:', to.path)
            next()
        })
    }
}
```

### 3. è‡ªå®šä¹‰ç»„ä»¶

```vue
<!-- .vitepress/theme/components/InteractiveDemo.vue -->
<template>
    <div class="interactive-demo">
        <h3>{{ title }}</h3>
        <div class="demo-content">
            <slot />
        </div>
        <button @click="toggleDemo" class="demo-button">
            {{ isVisible ? 'éšè—' : 'æ˜¾ç¤º' }}æ¼”ç¤º
        </button>
        <div v-show="isVisible" class="demo-result">
            <pre><code>{{ result }}</code></pre>
        </div>
    </div>
</template>

<script setup>
import { ref, computed } from 'vue'

const props = defineProps(['title', 'code'])
const isVisible = ref(false)

const result = computed(() => {
    try {
        return eval(props.code)
    } catch (error) {
        return `é”™è¯¯: ${error.message}`
    }
})

function toggleDemo() {
    isVisible.value = !isVisible.value
}
</script>

<style scoped>
.interactive-demo {
    border: 1px solid #ddd;
    border-radius: 8px;
    padding: 16px;
    margin: 16px 0;
}

.demo-button {
    background: #007acc;
    color: white;
    border: none;
    padding: 8px 16px;
    border-radius: 4px;
    cursor: pointer;
}

.demo-result {
    background: #f5f5f5;
    padding: 12px;
    border-radius: 4px;
    margin-top: 12px;
}
</style>
```

## å®ç”¨å·¥å…·å‡½æ•°

### å¸¸ç”¨å·¥å…·

```javascript
// é˜²æŠ–å‡½æ•°
function debounce(func, wait) {
    let timeout;
    return function executedFunction(...args) {
        const later = () => {
            clearTimeout(timeout);
            func(...args);
        };
        clearTimeout(timeout);
        timeout = setTimeout(later, wait);
    };
}

// èŠ‚æµå‡½æ•°
function throttle(func, limit) {
    let inThrottle;
    return function() {
        const args = arguments;
        const context = this;
        if (!inThrottle) {
            func.apply(context, args);
            inThrottle = true;
            setTimeout(() => inThrottle = false, limit);
        }
    }
}

// æ·±æ‹·è´
function deepClone(obj) {
    if (obj === null || typeof obj !== "object") return obj;
    if (obj instanceof Date) return new Date(obj.getTime());
    if (obj instanceof Array) return obj.map(item => deepClone(item));
    if (typeof obj === "object") {
        const clonedObj = {};
        for (const key in obj) {
            if (obj.hasOwnProperty(key)) {
                clonedObj[key] = deepClone(obj[key]);
            }
        }
        return clonedObj;
    }
}
```

### æ•°ç»„æ“ä½œ

```javascript
const numbers = [1, 2, 3, 4, 5];

// æ˜ å°„
const doubled = numbers.map(n => n * 2);

// è¿‡æ»¤
const evens = numbers.filter(n => n % 2 === 0);

// å½’çº¦
const sum = numbers.reduce((acc, n) => acc + n, 0);

// æŸ¥æ‰¾
const found = numbers.find(n => n > 3);
const foundIndex = numbers.findIndex(n => n > 3);

// æ£€æŸ¥
const hasEven = numbers.some(n => n % 2 === 0);
const allPositive = numbers.every(n => n > 0);
```

## é”™è¯¯å¤„ç†

### try-catch

```javascript
try {
    // å¯èƒ½å‡ºé”™çš„ä»£ç 
    const result = riskyOperation();
    console.log(result);
} catch (error) {
    // é”™è¯¯å¤„ç†
    console.error('æ“ä½œå¤±è´¥:', error.message);
} finally {
    // æ— è®ºæˆåŠŸå¤±è´¥éƒ½ä¼šæ‰§è¡Œ
    console.log('æ¸…ç†å·¥ä½œ');
}
```

### è‡ªå®šä¹‰é”™è¯¯

```javascript
class CustomError extends Error {
    constructor(message, code) {
        super(message);
        this.name = 'CustomError';
        this.code = code;
    }
}

function validateInput(input) {
    if (!input) {
        throw new CustomError('è¾“å…¥ä¸èƒ½ä¸ºç©º', 'EMPTY_INPUT');
    }
    if (input.length < 3) {
        throw new CustomError('è¾“å…¥é•¿åº¦ä¸è¶³', 'TOO_SHORT');
    }
}
```

## æ¨¡å—åŒ–

### ES6æ¨¡å—

```javascript
// utils.js - å¯¼å‡º
export const PI = 3.14159;

export function add(a, b) {
    return a + b;
}

export default class Calculator {
    multiply(a, b) {
        return a * b;
    }
}

// main.js - å¯¼å…¥
import Calculator, { PI, add } from './utils.js';
import * as utils from './utils.js';

const calc = new Calculator();
console.log(calc.multiply(2, 3));
console.log(add(1, 2));
console.log(PI);
```

## æœ€ä½³å®è·µ

### ä»£ç è§„èŒƒ

```javascript
// ä½¿ç”¨æœ‰æ„ä¹‰çš„å˜é‡å
const userAge = 25; // å¥½
const a = 25; // ä¸å¥½

// ä½¿ç”¨å¸¸é‡
const MAX_RETRY_COUNT = 3;
const API_BASE_URL = 'https://api.example.com';

// å‡½æ•°åº”è¯¥åªåšä¸€ä»¶äº‹
function calculateTax(price, taxRate) {
    return price * taxRate;
}

// é¿å…æ·±å±‚åµŒå¥—
function processUser(user) {
    if (!user) return null;
    if (!user.isActive) return null;
    if (!user.hasPermission) return null;
    
    return processActiveUser(user);
}
```

### æ€§èƒ½ä¼˜åŒ–

```javascript
// ä½¿ç”¨æ–‡æ¡£ç‰‡æ®µæ‰¹é‡æ“ä½œDOM
const fragment = document.createDocumentFragment();
for (let i = 0; i < 1000; i++) {
    const div = document.createElement('div');
    div.textContent = `Item ${i}`;
    fragment.appendChild(div);
}
document.body.appendChild(fragment);

// ç¼“å­˜DOMæŸ¥è¯¢
const container = document.getElementById('container');
for (let i = 0; i < items.length; i++) {
    // ä½¿ç”¨ç¼“å­˜çš„containerè€Œä¸æ˜¯é‡å¤æŸ¥è¯¢
    container.appendChild(createItem(items[i]));
}
```

## è°ƒè¯•æŠ€å·§

### Consoleæ–¹æ³•

```javascript
// åŸºç¡€æ—¥å¿—
console.log('æ™®é€šæ—¥å¿—');
console.warn('è­¦å‘Šä¿¡æ¯');
console.error('é”™è¯¯ä¿¡æ¯');

// è¡¨æ ¼æ˜¾ç¤º
console.table([{name: 'John', age: 30}, {name: 'Jane', age: 25}]);

// åˆ†ç»„æ˜¾ç¤º
console.group('ç”¨æˆ·ä¿¡æ¯');
console.log('å§“å: John');
console.log('å¹´é¾„: 30');
console.groupEnd();

// è®¡æ—¶
console.time('æ“ä½œè€—æ—¶');
// æ‰§è¡Œä¸€äº›æ“ä½œ
console.timeEnd('æ“ä½œè€—æ—¶');
```

### æ–­ç‚¹è°ƒè¯•

```javascript
// ä»£ç æ–­ç‚¹
function complexFunction(data) {
    debugger; // æµè§ˆå™¨ä¼šåœ¨æ­¤å¤„æš‚åœ
    
    const processed = data.map(item => {
        // å¤„ç†é€»è¾‘
        return item * 2;
    });
    
    return processed;
}
```

è¿™ä¸ªJavaScriptè¯­æ³•æ€»ç»“æ¶µç›–äº†åœ¨Markdownæ–‡æ¡£å’ŒVitePressé¡¹ç›®ä¸­ä½¿ç”¨JavaScriptçš„å„ç§æ–¹å¼å’Œæœ€ä½³å®è·µã€‚
